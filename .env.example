# Client (Vite) — exposed to browser, must start with VITE_
# Replace with your project values from Supabase settings
VITE_SUPABASE_URL=https://YOUR-PROJECT.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.YOUR-ANON-KEY

# Server (Node) — DO NOT COMMIT REAL VALUES
# Node does not auto-load .env; set in your shell or use dotenv
SUPABASE_URL=https://YOUR-PROJECT.supabase.co
SUPABASE_SERVICE_KEY=YOUR-SERVICE-ROLE-KEY

# Optional: direct Postgres URL for runtime schema bootstrap (server-only)
# Get from Supabase: Settings → Database → Connection string → URI
# Example: postgres://postgres:[PASSWORD]@db.xxxxx.supabase.co:5432/postgres?sslmode=require
SUPABASE_DB_URL=postgres://postgres:YOUR-PASSWORD@db.YOUR-HOST.supabase.co:5432/postgres?sslmode=require

# Enable idempotent schema bootstrap on server start (creates tables/policies if missing)
RUN_DB_BOOTSTRAP=false

# Autosave config (server)
AUTOSAVE_ENABLED=true
AUTOSAVE_INTERVAL_MS=10000
AUTOSAVE_RETENTION=3
ALLOW_MANUAL_RESTORE=false
REQUIRE_VERIFIED_EMAIL=false
AUTH_REQUIRE_LOGIN=false

# Table names (server) — no back-compat; use lowercase snake_case in Postgres
# Primary persisted game state (formerly game_state_snapshots)
TABLE_GAMESTATE=gamestate
# Future tables (not yet used by code):
TABLE_ROOMS=rooms
TABLE_MESSAGES=messages
TABLE_PROFILES=profiles

# Login Scenario (server)
LOGIN_SCENARIO_ENABLED=true
LOGIN_TICK_MS=100
LOGIN_MAX_CLIENTS=32
